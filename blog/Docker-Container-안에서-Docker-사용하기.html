<!DOCTYPE html>
<html lang="en"><head><title>Docker Container 안에서 Docker 사용하는 방법이 있다고?</title><meta charset="utf-8"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto Sans KR&amp;family=Noto Sans KR:wght@400;700&amp;family=Noto Sans KR:ital,wght@0,400;0,600;1,400;1,600&amp;display=swap"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="google-site-verification" content="_y2e8NijEw1pWVSTaAheBdoMwryFwNuDVM99SI0K7aU"/><meta property="og:title" content="Docker Container 안에서 Docker 사용하는 방법이 있다고?"/><meta property="og:description" content="Docker는 애플리케이션을 Container라는 독립된 환경을 실행하고 관리해주는 툴인데요. 독립된 환경이라고 했지만, 호스트 안에 거의 새로운 Linux 환경을 구축한다는 느낌을 받기도 하죠. 그래서 아래와 같은 질문이 나올 수도 있습니다. Docker Container 안에 Docker를 설치해서 Host의 Docker를 사용할 수도 있지 않을까? 그렇게 나온 컨셉이 바로, ==Docker In Docker(DID)==입니다."/><meta property="og:image" content="https://guide-to-devops.github.io/static/og-image.png"/><meta property="og:width" content="1200"/><meta property="og:height" content="675"/><link rel="icon" href="../static/icon.png"/><meta name="description" content="Docker는 애플리케이션을 Container라는 독립된 환경을 실행하고 관리해주는 툴인데요. 독립된 환경이라고 했지만, 호스트 안에 거의 새로운 Linux 환경을 구축한다는 느낌을 받기도 하죠. 그래서 아래와 같은 질문이 나올 수도 있습니다. Docker Container 안에 Docker를 설치해서 Host의 Docker를 사용할 수도 있지 않을까? 그렇게 나온 컨셉이 바로, ==Docker In Docker(DID)==입니다."/><meta name="generator" content="Quartz"/><link href="../index.css" rel="stylesheet" type="text/css" spa-preserve/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css" rel="stylesheet" type="text/css" spa-preserve/><script src="../prescript.js" type="application/javascript" spa-preserve></script><script type="application/javascript" spa-preserve>const fetchData = fetch("../static/contentIndex.json").then(data => data.json())</script></head><body data-slug="blog/Docker-Container-안에서-Docker-사용하기"><div id="quartz-root" class="page"><div id="quartz-body"><div class="left sidebar"><h1 class="page-title"><a href="..">Guide to DevOps</a></h1><div class="spacer mobile-only"></div><div class="search"><div id="search-icon"><p>Search</p><div></div><svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search</title><desc id="desc">Search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"></path><circle cx="8" cy="8" r="7"></circle></g></svg></div><div id="search-container"><div id="search-space"><input autocomplete="off" id="search-bar" name="search" type="text" aria-label="Search for something" placeholder="Search for something"/><div id="search-layout" data-preview="true"></div></div></div></div><div class="darkmode"><input class="toggle" id="darkmode-toggle" type="checkbox" tabindex="-1"/><label id="toggle-label-light" for="darkmode-toggle" tabindex="-1"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35" xml:space="preserve"><title>Dark mode</title><path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"></path></svg></label><label id="toggle-label-dark" for="darkmode-toggle" tabindex="-1"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100" xml:space="preserve"><title>Light mode</title><path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"></path></svg></label></div><div class="recent-notes desktop-only"><h3>Recent Notes</h3><ul class="recent-ul"><li class="recent-li"><div class="section"><div class="desc"><h3><a href="../blog/AWS-리소스-관리-툴-비교---AWS-Config-vs-Cloud-Custodian" class="internal">AWS 리소스를 관리할 땐 어떤 툴을 사용해야 할까? - AWS Config vs Cloud Custodian</a></h3></div><p class="meta">Nov 21, 2024</p></div></li><li class="recent-li"><div class="section"><div class="desc"><h3><a href="../blog/Kubernetes-내부-인증서-관리-모듈-cert-manager-소개" class="internal">TLS 인증서가 대체 뭘까? - Kubernetes 내부에서 TLS 인증서를 관리해주는 cert-manager 소개</a></h3></div><p class="meta">Nov 17, 2024</p></div></li><li class="recent-li"><div class="section"><div class="desc"><h3><a href="../blog/2024-우아콘-참여-후기---2" class="internal">[2024 우아콘 후기] 프롬프트 엔지니어링, 클라우드 관리 및 컴플라이언스 관련 세션</a></h3></div><p class="meta">Oct 31, 2024</p></div></li><li class="recent-li"><div class="section"><div class="desc"><h3><a href="../blog/2024-우아콘-참여-후기---1" class="internal">[2024 우아콘 후기] AI 데이터 분석가 '물어보새' 소개 및 실시간 추천 검색어 모델링 사례 공유</a></h3></div><p class="meta">Oct 30, 2024</p></div></li><li class="recent-li"><div class="section"><div class="desc"><h3><a href="../blog/Kubernetes-컨테이너-디자인-패턴" class="internal">Kubernetes 컨테이너 디자인 패턴 소개</a></h3></div><p class="meta">Oct 27, 2024</p></div></li></ul><p><a href="../blog">See 41 more →</a></p></div></div><div class="center"><div class="page-header"><div class="popover-hint"><nav class="breadcrumb-container" aria-label="breadcrumbs"><div class="breadcrumb-element"><a href="../">Home</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../blog/">blog</a><p> ❯ </p></div><div class="breadcrumb-element"><a href>Docker Container 안에서 Docker 사용하는 방법이 있다고?</a></div></nav><h1 class="article-title">Docker Container 안에서 Docker 사용하는 방법이 있다고?</h1><p show-comma="true" class="content-meta"><span>Jun 10, 2024</span><span>6 min read</span></p><ul class="tags"><li><a href="../tags/Docker" class="internal tag-link">Docker</a></li></ul></div></div><article class="popover-hint"><p><strong>Docker는 애플리케이션을 Container라는 독립된 환경을 실행하고 관리</strong>해주는 툴인데요. 독립된 환경이라고 했지만, <strong>호스트 안에 거의 새로운 Linux 환경을 구축</strong>한다는 느낌을 받기도 하죠.</p>
<p>그래서 아래와 같은 질문이 나올 수도 있습니다.</p>
<blockquote>
<p><strong>Docker Container 안에 Docker를 설치해서 Host의 Docker를 사용</strong>할 수도 있지 않을까?</p>
</blockquote>
<p>그렇게 나온 컨셉이 바로, ==<strong>Docker In Docker(DID)</strong>==입니다.</p>
<p>우리가 Docker를 설치할 때 <strong>Docker daemon</strong>과 <strong>Docker CLI</strong>가 함께 설치됩니다. 터미널 환경에서 <code>docker build</code>, <code>docker run</code> 등의 명령어를 입력하면 <strong>Docker CLI</strong>가 명령어를 <strong>Docker daemon</strong>에게 전달해서  해당 동작을 수행하게 하는데요.
Docker CLI가 Docker daemon에게 명령어를 전달하는 과정에서 <strong>통로 역할</strong>을 하는 파일이 하나 있으니, 바로 <code>docker.sock</code>입니다.</p>
<p><img src="https://i.imgur.com/Nqz2pJq.png" alt/></p>
<p>Docker와 함께 설치되는 <code>docker.sock</code> 파일의 기본 위치는 <code>/var/run/docker.sock</code>인데요. Docker CLI에서도 해당 위치에 <code>docker.sock</code> 파일이 존재한다는 설정이 기본값으로 지정되어 있습니다.</p>
<p>이렇게 DID라는 개념을 설명드리기 전에 <code>docker.socket</code>이라는 파일을 먼저 살펴본 것은, <strong>Docker In Docker</strong>(DID) 구현을 위해 <code>docker.socket</code> 파일을 활용할 예정이기 때문입니다.</p>
<p>위에서 <strong>Docker CLI</strong>가 <strong>Docker daemon</strong>에 Docker 명령어를 전달할 때 <code>docker.sock</code> 파일을 이용한다고 했었죠. 이는 곧 외부 <strong>Docker CLI</strong>가 <code>docker.socket</code>에 접근할 수 있다면, 이와 연결된 <strong>Docker daemon</strong>에 명령어를 내릴 수 있다는 의미입니다.는 설정이 기본값으로 지정되어 있습니다.</p>
<p>이렇게 DID라는 개념을 설명드리기 전에 <code>docker.socket</code>이라는 파일을 먼저 살펴본 것은, <strong>Docker In Docker</strong>(DID) 구현을 위해 <code>docker.socket</code> 파일을 활용할 예정이기 때문입니다.</p>
<p>위에서 <strong>Docker CLI</strong>가 <strong>Docker daemon</strong>에 Docker 명령어를 전달할 때 <code>docker.sock</code> 파일을 이용한다고 했었죠. 이는 곧 외부 <strong>Docker CLI</strong>가 <code>docker.socket</code>에 접근할 수 있다면, 이와 연결된 <strong>Docker daemon</strong>에 명령어를 내릴 수 있다는 의미이기도 합니다.</p>
<h2 id="did를-사용하는-이유">DID를 사용하는 이유<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#did를-사용하는-이유" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p><strong>CI/CD 파이프라인을 구축</strong>할 때 ==<strong>DID</strong>==를 활용하면 편한 경우가 있는데요. 쉬운 설명을 위해 <strong>Jenkins가 Docker Container로 동작</strong>하는 상황에서 <strong>Jenkins 파이프라인을 구성 중</strong>이라고 가정해볼게요.</p>
<p>파이프라인이 동작할 때 <strong>특정 스테이지에서 Docker Image를 빌드</strong>해야 하는 경우가 있을 수 있습니다. 하지만 파이프라인을 실행하는 <strong>Jenkins가 Docker Container 상에서 동작 중</strong>인 상황이기 때문에 우리는 <strong>해당 Container 내부에서 Docker Build 작업을 수행</strong>해야 합니다.</p>
<p>이때 위에서 설명한 ==<strong>DID 컨셉</strong>==을 이용한다면, <strong>Container 내부에 Docker CLI를 설치</strong> 후, 이미 <strong>호스트에 설치된 docker.sock에 접근</strong>하는 방식으로 <strong>호스트의 Docker daemon으로 Docker Build 작업을 수행</strong>할 수 있게 됩니다.</p>
<h2 id="did를-사용하는-방법">DID를 사용하는 방법<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#did를-사용하는-방법" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>DID 컨셉을 활용하기 위한 가장 핵심은, Docker 명령어 실행이 필요한 컨테이너를 실행할 때 아래 옵션을 추가하는 것입니다.</p>
<pre><code>docker run -v /var/run/docker.sock:/var/run/docker.sock ...
</code></pre>
<p>우리가 지금까지 가정했던 상황의 경우, <strong>Jenkins가 실행되는 Docker Container</strong>가 여기에 해당됩니다.</p>
<p>이 Container가 실행되는 기존 docker run 명령어에 위와 같이 호스트의 <code>docker.sock</code> 파일 경로를 Container 내부의 동일한 경로에 복사하는 <code>-v</code> 옵션을 추가하는 것인데요.</p>
<p>여기에 추가로 <strong>해당 Container 내부에 Docker CLI를 설치</strong>하면, <strong>Container 내 터미널 환경에서 docker 명령어를 바로 수행</strong>할 수 있게 됩니다.</p>
<h2 id="did-사용-시-생각해볼만한-점들">DID 사용 시 생각해볼만한 점들<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#did-사용-시-생각해볼만한-점들" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>위에서 살펴본 것처럼, ==<strong>DID</strong>==는 <strong>Container 내부의 Docker CLI</strong>가 <strong>호스트에 설치된 Docker daemon</strong>을 사용합니다. 즉, ==<strong>Container 안으로 접근만 할 수 있다면 호스트의 Docker daemon을 제한 없이 사용</strong>==할 수 있는 것이죠.</p>
<p>만약 이를 외부에서 악용한다면 ==<strong>심각한 보안 이슈가 발생</strong>==할 수도 있는데요. 그렇기 때문에 DID를 사용할 때엔 <strong>Container 접근과 관련된 보안 설비가 충분히 구축</strong>되어야 안전하겠습니다.</p>
<p>이와 관련해서 <strong>컨테이너 런타임 보안</strong>에 대해 <a href="../blog/컨테이너-런타임-보안" class="internal alias" data-slug="blog/컨테이너-런타임-보안">지난 글</a>에서 다룬 적이 있으니 참고해보세요 :)</p>
<h2 id="references">References<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#references" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li><a href="https://medium.com/dtevangelist/docker-in-docker-fb54252e3188" class="external">https://medium.com/dtevangelist/docker-in-docker-fb54252e3188<svg class="external-icon" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></li>
<li><a href="https://jaykos96.tistory.com/44" class="external">https://jaykos96.tistory.com/44<svg class="external-icon" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></li>
<li><a href="https://jpetazzo.github.io/2015/09/03/do-not-use-docker-in-docker-for-ci/" class="external">https://jpetazzo.github.io/2015/09/03/do-not-use-docker-in-docker-for-ci/<svg class="external-icon" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></li>
</ul></article></div><div class="right sidebar"><div class="toc desktop-only"><button type="button" id="toc" class><h3>Table of Contents</h3><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="toc-content"><ul class="overflow"><li class="depth-0"><a href="#did를-사용하는-이유" data-for="did를-사용하는-이유">DID를 사용하는 이유</a></li><li class="depth-0"><a href="#did를-사용하는-방법" data-for="did를-사용하는-방법">DID를 사용하는 방법</a></li><li class="depth-0"><a href="#did-사용-시-생각해볼만한-점들" data-for="did-사용-시-생각해볼만한-점들">DID 사용 시 생각해볼만한 점들</a></li><li class="depth-0"><a href="#references" data-for="references">References</a></li></ul></div></div><div class="recent-notes mobile-only"><h3>Recent Notes</h3><ul class="recent-ul"><li class="recent-li"><div class="section"><div class="desc"><h3><a href="../blog/AWS-리소스-관리-툴-비교---AWS-Config-vs-Cloud-Custodian" class="internal">AWS 리소스를 관리할 땐 어떤 툴을 사용해야 할까? - AWS Config vs Cloud Custodian</a></h3></div><p class="meta">Nov 21, 2024</p></div></li><li class="recent-li"><div class="section"><div class="desc"><h3><a href="../blog/Kubernetes-내부-인증서-관리-모듈-cert-manager-소개" class="internal">TLS 인증서가 대체 뭘까? - Kubernetes 내부에서 TLS 인증서를 관리해주는 cert-manager 소개</a></h3></div><p class="meta">Nov 17, 2024</p></div></li><li class="recent-li"><div class="section"><div class="desc"><h3><a href="../blog/2024-우아콘-참여-후기---2" class="internal">[2024 우아콘 후기] 프롬프트 엔지니어링, 클라우드 관리 및 컴플라이언스 관련 세션</a></h3></div><p class="meta">Oct 31, 2024</p></div></li></ul><p><a href="../blog">See 43 more →</a></p></div><div class="backlinks"><h3>Backlinks</h3><ul class="overflow"><li>No backlinks found</li></ul></div></div></div><footer class><hr/><div><h3><p>DevOps 및 클라우드 관련 글을 정기적으로 받아보고 싶다면</p><a href="https://maily.so/newslettertodevops">🔭DevOps 여행을 위한 소식지 구독하기📧</a></h3></div><p>Created with <a href="https://quartz.jzhao.xyz/">Quartz v4.2.3</a> © 2024</p></footer></div></body><script type="application/javascript">function c(){let t=this.parentElement;t.classList.toggle("is-collapsed");let l=t.classList.contains("is-collapsed")?this.scrollHeight:t.scrollHeight;t.style.maxHeight=l+"px";let o=t,e=t.parentElement;for(;e;){if(!e.classList.contains("callout"))return;let n=e.classList.contains("is-collapsed")?e.scrollHeight:e.scrollHeight+o.scrollHeight;e.style.maxHeight=n+"px",o=e,e=e.parentElement}}function i(){let t=document.getElementsByClassName("callout is-collapsible");for(let s of t){let l=s.firstElementChild;if(l){l.addEventListener("click",c),window.addCleanup(()=>l.removeEventListener("click",c));let e=s.classList.contains("is-collapsed")?l.scrollHeight:s.scrollHeight;s.style.maxHeight=e+"px"}}}document.addEventListener("nav",i);window.addEventListener("resize",i);
</script><script type="module">
          let mermaidImport = undefined
          document.addEventListener('nav', async () => {
            if (document.querySelector("code.mermaid")) {
              mermaidImport ||= await import('https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.7.0/mermaid.esm.min.mjs')
              const mermaid = mermaidImport.default
              const darkMode = document.documentElement.getAttribute('saved-theme') === 'dark'
              mermaid.initialize({
                startOnLoad: false,
                securityLevel: 'loose',
                theme: darkMode ? 'dark' : 'default'
              })

              await mermaid.run({
                querySelector: '.mermaid'
              })
            }
          });
          </script><script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/contrib/copy-tex.min.js" type="application/javascript"></script><script src="../postscript.js" type="module"></script></html>